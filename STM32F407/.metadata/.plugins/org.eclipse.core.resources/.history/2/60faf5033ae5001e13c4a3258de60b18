/*
 * adc.h
 *
 *  Created on: Feb 7, 2024
 *      Author: vishnu
 */

#ifndef ADC_H_
#define ADC_H_

#include <stdint.h>
#include <stm32f4xx.h>  // Library for STM32f407
#include <arm_math.h>

extern volatile uint16_t adc_data;  //  To store raw ADC value
extern volatile float32_t sensor_data;  // To store sensor data in volts



/* FUNCTION DECLARATION */
void ADC_init (void);  // To initialize ADC
void ADC_start (void); // To start ADC
float32_t ADC_read (void);  // To read raw ADC value and convert it into volts
void ADC_stop (void);   // To stop ADC
float32_t ADC_convert( uint16_t raw_adc);  // TO convert raw ADC value to volts
void ADC_IRQHandler(void);
void TIM2_IRQHandler(void);
void ADC_trigger_init(void);
static void tim_callback(void);
static float32_t adc_callback(void);

#endif /* ADC_H_ */
